<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flow Auto V3</title>
  <link rel="stylesheet" href="popup.css">
</head>

<body>
  <!-- Header -->
  <header class="header">
    <div class="logo">
      <span class="logo-icon">ЁЯОи</span>
      <span class="logo-text">Flow Auto V3</span>
    </div>
    <div id="connectionStatus" class="status-badge">
      <span class="status-dot"></span>
      <span class="status-text">р╕Бр╕│р╕ер╕▒р╕Зр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н...</span>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Caption Section (NEW) -->
    <section class="section caption-section">
      <label class="section-label">
        <span class="label-icon">ЁЯЦ╝я╕П</span>
        р╕кр╕гр╣Йр╕▓р╕З Prompts р╕Ир╕▓р╕Бр╕гр╕╣р╕Ыр╕ар╕▓р╕Ю
      </label>
      <div class="folder-row">
        <button id="btnPickFolder" class="btn btn-folder">
          <span class="btn-icon">ЁЯУБ</span>
          р╣Ар╕ер╕╖р╕нр╕Бр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М
        </button>
        <span id="folderInfo" class="folder-info">р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Йр╣Ар╕ер╕╖р╕нр╕Б</span>
      </div>
      <div class="caption-settings">
        <div class="setting-item">
          <label class="setting-label">тП▒я╕П р╕лр╕Щр╣Ир╕зр╕Зр╣Ар╕зр╕ер╕▓ (ms)</label>
          <input type="number" id="captionDelay" class="setting-input" value="1000" min="0" step="100">
        </div>
        <button id="btnGenerateCaptions" class="btn btn-caption" disabled>
          <span class="btn-icon">тЬи</span>
          р╕кр╕гр╣Йр╕▓р╕З Captions
        </button>
      </div>
      <div id="captionLog" class="caption-log" style="display: none;"></div>
    </section>

    <!-- Prompt Section -->
    <section class="section">
      <label class="section-label">
        <span class="label-icon">тЬПя╕П</span>
        Prompts (р╕лр╕Щр╕╢р╣Ир╕З prompt р╕Хр╣Ир╕нр╕лр╕Щр╕╢р╣Ир╕Зр╕Ър╕гр╕гр╕Чр╕▒р╕Ф)
      </label>
      <textarea id="promptsInput" class="prompts-textarea"
        placeholder="р╣Гр╕кр╣И prompt р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З...&#10;р╣Бр╕Хр╣Ир╕ер╕░р╕Ър╕гр╕гр╕Чр╕▒р╕Фр╕Ир╕░р╕кр╕гр╣Йр╕▓р╕Зр╕ар╕▓р╕Юр╣Гр╕лр╕бр╣И&#10;&#10;р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З:&#10;a beautiful sunset over mountains&#10;a cute cat playing with yarn"
        rows="6"></textarea>
      <div class="prompt-actions">
        <input type="file" id="fileInput" accept=".txt" style="display: none;">
        <button id="btnLoadFile" class="btn btn-file">
          <span class="btn-icon">ЁЯУБ</span>
          р╣Вр╕лр╕ер╕Фр╕Ир╕▓р╕Бр╣Др╕Яр╕ер╣М
        </button>
        <button id="btnClearPrompts" class="btn btn-clear">
          <span class="btn-icon">ЁЯЧСя╕П</span>
          р╕ер╣Йр╕▓р╕З
        </button>
      </div>
      <div class="prompt-info">
        <span id="promptCount">0 prompts</span>
      </div>
    </section>

    <!-- Settings Section -->
    <section class="section">
      <div class="settings-row">
        <div class="setting-item">
          <label class="setting-label">тП▒я╕П р╕лр╕Щр╣Ир╕зр╕Зр╣Ар╕зр╕ер╕▓ (р╕зр╕┤р╕Щр╕▓р╕Чр╕╡)</label>
          <input type="number" id="delayInput" class="setting-input" value="20" min="1" max="60">
        </div>
        <div class="setting-item">
          <label class="setting-label">ЁЯФД р╕Лр╣Йр╕│ (р╕Др╕гр╕▒р╣Йр╕З)</label>
          <input type="number" id="repeatInput" class="setting-input" value="1" min="1" max="10">
        </div>
      </div>
    </section>

    <!-- Actions -->
    <section class="section actions">
      <button id="btnGenerate" class="btn btn-primary">
        <span class="btn-icon">ЁЯЪА</span>
        р╣Ар╕гр╕┤р╣Ир╕бр╕кр╕гр╣Йр╕▓р╕З
      </button>
      <button id="btnStop" class="btn btn-danger" disabled>
        <span class="btn-icon">тП╣я╕П</span>
        р╕лр╕вр╕╕р╕Ф
      </button>
    </section>

    <!-- Progress -->
    <section id="progressSection" class="section progress-section" style="display: none;">
      <div class="progress-header">
        <span id="progressText">р╕Бр╕│р╕ер╕▒р╕Зр╕кр╕гр╣Йр╕▓р╕З...</span>
        <span id="progressPercent">0%</span>
      </div>
      <div class="progress-bar">
        <div id="progressFill" class="progress-fill"></div>
      </div>
    </section>

    <!-- Stats -->
    <section class="section stats">
      <div class="stat-item">
        <span class="stat-value" id="statGenerated">0</span>
        <span class="stat-label">р╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╣Йр╕з</span>
      </div>
      <div class="stat-item">
        <span class="stat-value" id="statDownloaded">0</span>
        <span class="stat-label">р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Ф</span>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <span>Flow Auto V3</span>
    <a href="#" id="helpLink">тЭУ р╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н</a>
  </footer>

  <script src="popup.js"></script>
</body>

</html>